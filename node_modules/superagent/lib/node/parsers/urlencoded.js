<<<<<<< HEAD
'use strict';
=======
>>>>>>> 34f03bf259ef6d5f22c22e47eca085eaa7ac4538

/**
 * Module dependencies.
 */

<<<<<<< HEAD
const qs = require('qs');
=======
var qs = require('qs');
>>>>>>> 34f03bf259ef6d5f22c22e47eca085eaa7ac4538

module.exports = function(res, fn){
  res.text = '';
  res.setEncoding('ascii');
<<<<<<< HEAD
  res.on('data', chunk => {
    res.text += chunk;
  });
  res.on('end', () => {
=======
  res.on('data', function(chunk){ res.text += chunk; });
  res.on('end', function(){
>>>>>>> 34f03bf259ef6d5f22c22e47eca085eaa7ac4538
    try {
      fn(null, qs.parse(res.text));
    } catch (err) {
      fn(err);
    }
  });
<<<<<<< HEAD
};
=======
};
>>>>>>> 34f03bf259ef6d5f22c22e47eca085eaa7ac4538
